{% extends "polls/landing/base.html" %}

{% block title %}
Список операций
{% endblock %}

{% block content %}


<body>
<div>
        <table class="table">
        <thead>
    <tr>
      <th scope="col">Тип операции</th>
      <th scope="col">Сумма</th>
      <th scope="col">Категория</th>
      <th scope="col">Описание</th>
      <th scope="col">Дата операции</th>
      <th scope="col">Удалить</th>
      <th scope="col">Редактировать</th>

    </tr>
        </thead>
            <tbody>

                    {% for a in transactions %}
                    <tr>
                        {% if a.is_income %}
                            <td>Доход</td>
                            <td>{{a.amount}}</td>
                            <td>
                                {% if a.category %}
                                {{a.category}}
                                {% else %}  —
                                {% endif %}
                            </td>
                        {% elif a.is_expense%}
                            <td>Расход</td>
                            <td>{{a.amount}}</td>
                            <td>{{a.category}}</td>
                        {% elif a.is_transfer%}
                            <td>Перевод</td>
                            <td>{{a.amount}}</td>
                            <td>Перевод на счет:</td>
                        {% endif %}
                            <td>{{a.description}}</td>
                            <td>{{a.transaction_date}}</td>
                            <td>
                                 <form action="{% url 'delete_transaction' transaction_id=a.transaction_id%}" method="post">
                              {% csrf_token %}

                              <input type="submit" value="Удалить">
                                </form>
                             </td>
                            <td>{{a.account_name}}</td>
                    </tr>
                    {% endfor %}
             </tbody>
</table>
    </div>
</body>


{% endblock %}


{% include "polls/landing/footer.html" %}